{"version":3,"file":"index.modern.js","sources":["../src/svg-icons/Cancel.tsx","../node_modules/classnames/index.js","../src/index.tsx"],"sourcesContent":["import React from 'react'\nexport default function Cancel(\n  props: JSX.IntrinsicAttributes & React.SVGProps<SVGSVGElement>\n): JSX.Element {\n  return (\n    <svg width='24' height='24' viewBox='0 0 24 24' {...props}>\n      <path d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z' />\n    </svg>\n  )\n}\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// eslint-disable-next-line no-use-before-define\nimport React, {\n  HtmlHTMLAttributes,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState\n} from 'react'\nimport './styles.module.scss'\nimport { Cancel } from './svg-icons'\nimport classnames from 'classnames'\n\nexport type TagsValue = {\n  values: string[]\n  name?: string\n}\n\ninterface InputTagsProps {\n  placeholder?: string\n  onTags: (value: TagsValue) => void\n  values: string[]\n  name?: string\n  elementClassName?: string\n}\n\nexport const InputTags = ({\n  placeholder,\n  values,\n  onTags,\n  name,\n  className,\n  elementClassName,\n  ...rest\n}: InputTagsProps & HtmlHTMLAttributes<HTMLInputElement>): JSX.Element => {\n  const [terms, setTerms] = useState<string[]>(values)\n  const [value, setValue] = useState('')\n  const [focusIndex, setFocusIndex] = useState(-1)\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const forceInputFocus = () => {\n    if (inputRef.current && focusIndex === -1) {\n      inputRef.current.focus()\n    }\n  }\n\n  useLayoutEffect(() => {\n    if (terms.length === 0) {\n      setFocusIndex(-1)\n    }\n    onTags({ values: terms, name: name })\n  }, [terms.length]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    setTerms(values)\n  }, [values])\n\n  useEffect(() => {\n    forceInputFocus()\n  }, [focusIndex]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  const onchange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(event.currentTarget.value)\n  }\n\n  const onkeyup = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    const { key } = event\n    const currentValue = value.trim()\n    const isEndOfText = event.currentTarget.selectionEnd === currentValue.length\n    const isPossibleRight =\n      (isEndOfText || currentValue.length === 0) && terms.length > 0\n    if ((key === 'Enter' || key === ' ') && currentValue != '') {\n      event.preventDefault()\n      setTerms([...terms, currentValue])\n      setValue('')\n      setFocusIndex(-1)\n    } else if (\n      (key === 'Backspace' || key === 'ArrowLeft') &&\n      isPossibleRight\n    ) {\n      event.preventDefault()\n      setFocusIndex(terms.length - 1)\n    } else if (key === 'ArrowRight' && isPossibleRight) {\n      event.preventDefault()\n      setFocusIndex(0)\n    }\n  }\n\n  const handleRemove = (index: number, focus: boolean) => {\n    setTerms(terms.filter((_, i) => i !== index))\n    if (focus) {\n      setFocusIndex(Math.max(focusIndex - 1, 0))\n    } else {\n      forceInputFocus()\n    }\n  }\n\n  const setSelectedIndex = (index: number) => {\n    if (index < terms.length && index > -1) {\n      setFocusIndex(index)\n    } else {\n      setFocusIndex(-1)\n    }\n  }\n\n  return (\n    <div className='form-control d-inline-flex flex-wrap'>\n      {terms.map((item, index) => {\n        const focus = focusIndex === index\n        return (\n          <Element\n            key={`${item}${index}`}\n            value={item}\n            index={index}\n            onRemove={handleRemove}\n            focus={focus}\n            onSelectedIndex={setSelectedIndex}\n            className={elementClassName}\n          />\n        )\n      })}\n      <input\n        data-testid='input-tags'\n        ref={inputRef}\n        type='text'\n        className={classnames(\n          'border-0 w-auto flex-fill input-tags',\n          className\n        )}\n        placeholder={placeholder}\n        aria-label={placeholder}\n        value={value}\n        onChange={onchange}\n        onKeyUp={onkeyup}\n        autoFocus\n        name={name}\n        {...rest}\n      />\n    </div>\n  )\n}\n\ninterface ElementProps {\n  value: string\n  index: number\n  onRemove: (index: number, focus: boolean) => void\n  onSelectedIndex: (index: number) => void\n  focus: boolean\n  className?: string\n}\n\nconst Element = (props: ElementProps): JSX.Element => {\n  const [focus, setFocus] = useState(false)\n  const onclick = () => {\n    props.onRemove(props.index, focus)\n  }\n  const ref = useRef<HTMLDivElement>(null)\n  useLayoutEffect(() => {\n    if (ref.current && props.focus) {\n      ref.current.focus()\n    }\n  }, [props.focus])\n\n  const onkeydown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    const { key } = event\n    event.preventDefault()\n    if (key === 'Backspace' || key === 'Delete') {\n      props.onRemove(props.index, props.focus)\n    } else if (key === 'ArrowLeft') {\n      props.onSelectedIndex(props.index - 1)\n    } else if (key === 'ArrowRight') {\n      props.onSelectedIndex(props.index + 1)\n    }\n  }\n  return (\n    <div\n      data-testid='tag-element'\n      ref={ref}\n      tabIndex={0}\n      className={classnames(\n        'badge bg-secondary bg-gradient mr-1 my-auto py-auto pr-0 ',\n        props.className\n      )}\n      onKeyUp={onkeydown}\n      onFocus={() => {\n        setFocus(true)\n      }}\n      onBlur={() => {\n        setFocus(false)\n      }}\n    >\n      {props.value}\n      <button\n        data-testid='tag-clean-element'\n        aria-label='remove path fragment'\n        tabIndex={-1}\n        className='border-0 bg-transparent ml-3 mr-1 my-auto py-auto px-0'\n        style={{ outline: 0 }}\n        onClick={onclick}\n      >\n        <Cancel\n          style={{ fill: 'var(--bs-white)', opacity: 1 }}\n          width={18}\n          height={18}\n        />\n      </button>\n    </div>\n  )\n}\n"],"names":["Cancel","props","React","width","height","viewBox","d","InputTags","placeholder","values","onTags","name","className","elementClassName","rest","useState","terms","setTerms","value","setValue","focusIndex","setFocusIndex","inputRef","useRef","forceInputFocus","current","focus","useLayoutEffect","length","useEffect","onchange","event","currentTarget","onkeyup","key","currentValue","trim","isEndOfText","selectionEnd","isPossibleRight","preventDefault","handleRemove","index","filter","_","i","Math","max","setSelectedIndex","map","item","Element","onRemove","onSelectedIndex","ref","type","classnames","onChange","onKeyUp","autoFocus","setFocus","onclick","onkeydown","tabIndex","onFocus","onBlur","style","outline","onClick","fill","opacity"],"mappings":"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"}